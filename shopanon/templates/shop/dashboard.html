{% extends "base.html" %}
{% block content %}
<br>
<div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center">
    <h1 class="display-4"><span class="A">Welcome to your dashboard, {{user.first_name}}!</span></h1>
    <p class="lead">Check out your information here, plus the status of your shopping!</p>
</div>

<div class="container">
    <div class="card mb-4 shadow-sm">
        <div class="card-header domcolor ">
            <h4 class="my-0 font-weight-normal txt">User Information</h4>
        </div>
        <div class="card-body">
            <h1 class="card-title pricing-card-title">{{ user.first_name }} {{ user.last_name }}</h1>
            <ul class="list-unstyled mt-3 mb-4">
                <li>Username: <span class="text-muted">{{ user.username }}</span></li>
                <li>Password: <span class="text-muted">*****</span></li>
                <li>Email: <span class="text-muted">{{ user.email }}</span></li>
                <!-- Get on signup! -->
            </ul>
            <a class="btn btn-md btn-primary accent" href="{% url 'shop:driver_dash' %}" role="button"> View Driver
                Dashboard </a>
            <!--<button type="button" class="btn btn-lg btn-primary accent">Edit User Information</button>-->
        </div>
    </div>
    <div class="card mb-4 shadow-sm">
        <div class="card-header domcolor">
            <h4 class="my-0 txt font-weight-normal">Shopping Status</h4>
        </div>

        <div class="card-body">
            <!--<h1 class="card-title pricing-card-title">Status: <small class="text-muted">{{ status }}</small></h1>-->
            <h1 class="card-title pricing-card-title">Primary Identity:
                <small class="text-muted">{{ identity }}</small>
            </h1>

            <ul class="list-unstyled mt-3 mb-4">

                <li>Dropoff Address: <span class="text-muted">{{ address }}</span> Apartment: <span class="text-muted">{{ apt }}</span>
                </li>
                <li>Delivery Instructions: <span class="text-muted">{{ instructions }}</span></li>
                <li>Cost: <span class="text-muted">{{ cost }}</span></li>

                <li>Payment Status: <span class="text-muted">{{ paid }}</span></li>
                {% if paid == "You have not paid for your order. Pay now to start matching!" %} <a
                    class="btn btn-sm btn-primary accent" href="{% url 'shop:checkout' %}" role="button"> Pay for
                Order </a> {% endif %}
            </ul>
            {% if status == "Shopping" %}
            {% else %}
            <a role="button" class="btn btn-md btn-primary accent" href="store">Shop Now</a>
            {% endif %}
        </div>
    </div>
    <div class="card mb-4 shadow-sm">
        <div class="card-header domcolor">
            <h4 class="my-0 txt font-weight-normal">Current Order</h4>
        </div>
        <div class="card-body">
            <h1 class="card-title pricing-card-title">Status:
                <small class="text-muted">{{ status }}</small>
            </h1>

            <!--<h1 class="card-title pricing-card-title">Primary Identity: <small class="text-muted">{{ identity }}</small></h1>-->
            <ul class="list-unstyled mt-3 mb-4">
                <li>Due Date: <span class="text-muted">{{ late_time }}</span></li>
                <li>Anticipated Drop Time: <span class="text-muted">{{ drop }}</span></li>
                <li>Current Driver: <span class="text-muted">{{ driver }}</span> {% if driver == "Unmatched" %} <a
                        class="btn btn-sm btn-primary accent" href="{% url 'shop:match' %}" role="button"> Refresh Match </a> {% endif %}</li>
                <li>Grocery List: <span class="text-muted">{{ current_order }}</span></li>
            </ul>
            {% if status == "Shopping" %}
            {% if chat_room %}
            <iframe src="/rooms/{{ chat_room }}" class="w-100" height="500px"></iframe>
            {% endif %}
            <a role="button" class="btn btn-lg btn-primary accent" href="{% url 'shop:reset' %}">{{ disabled }}</a>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
